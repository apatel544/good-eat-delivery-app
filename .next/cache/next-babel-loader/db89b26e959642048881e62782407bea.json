{"ast":null,"code":"var _jsxFileName = \"/Users/ankurpatel/Desktop/Projects/2022_projects/delivery-capstone/good-eat-delivery-app/components/restaurantList.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { gql, useQuery } from '@apollo/client';\nimport Dishes from \"./dishes\";\nimport { useContext, useState } from 'react';\nimport AppContext from \"./context\";\nimport { Button, Card, CardBody, CardImg, CardText, CardTitle, Container, Row, Col } from \"reactstrap\";\nfunction RestaurantList(props) {\n  const {\n    0: restaurantID,\n    1: setRestaurantID\n  } = useState(0);\n  const {\n    cart\n  } = useContext(AppContext);\n  const {\n    0: state,\n    1: setState\n  } = useState(cart);\n  const GET_RESTAURANTS = gql`\n    query {\n      restaurant {\n        id\n        name\n        description\n        image {\n          url\n        }\n      }\n    }\n  `;\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_RESTAURANTS);\n  if (loading) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n  if (error) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, \"ERROR\");\n  if (!data) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, \"Not found\");\n  // console.log(`Query Data: ${data.restaurants}`)\n\n  let searchQuery = data.restaurants.filter(res => {\n    return res.name.toLowerCase().includes(props.search);\n  }) || [];\n  let restId = searchQuery[0] ? searchQuery[0].id : null;\n\n  // definet renderer for Dishes\n  const renderDishes = restaurantID => {\n    // console.log(`RESTID: ${restaurantID}`)\n    return __jsx(Dishes, {\n      restId: restaurantID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, \" \");\n  };\n  if (searchQuery.length > 0) {\n    const restList = searchQuery.map(res => __jsx(Col, {\n      xs: \"6\",\n      sm: \"4\",\n      key: res.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, __jsx(Card, {\n      style: {\n        margin: \"0 0.5rem 20px 0.5rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, __jsx(CardImg, {\n      top: true,\n      style: {\n        height: 200\n      },\n      src: `http://localhost:1337${res.image[0].url}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }), __jsx(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, __jsx(CardText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, res.description)), __jsx(\"div\", {\n      className: \"card-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, __jsx(Button, {\n      color: \"info\",\n      onClick: () => setRestaurantID(res.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, res.name)))));\n    return __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, __jsx(Row, {\n      xs: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, restList), __jsx(Row, {\n      xs: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, renderDishes(restaurantID)));\n  } else {\n    return __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 12\n      }\n    }, \" No Restaurants Found\");\n  }\n}\nexport default RestaurantList;","map":{"version":3,"names":["gql","useQuery","Dishes","useContext","useState","AppContext","Button","Card","CardBody","CardImg","CardText","CardTitle","Container","Row","Col","RestaurantList","props","restaurantID","setRestaurantID","cart","state","setState","GET_RESTAURANTS","loading","error","data","searchQuery","restaurants","filter","res","name","toLowerCase","includes","search","restId","id","renderDishes","length","restList","map","margin","height","image","url","description"],"sources":["/Users/ankurpatel/Desktop/Projects/2022_projects/delivery-capstone/good-eat-delivery-app/components/restaurantList.js"],"sourcesContent":["import { gql, useQuery } from '@apollo/client';\nimport Dishes from \"./dishes\"\nimport { useContext, useState } from 'react';\n\n\nimport AppContext from \"./context\"\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardImg,\n  CardText,\n  CardTitle,\n  Container,\n  Row,\n  Col\n} from \"reactstrap\";\n\nfunction RestaurantList(props) {\n  const [restaurantID, setRestaurantID] = useState(0)\n  const { cart } = useContext(AppContext);\n  const [state, setState] = useState(cart)\n  const GET_RESTAURANTS = gql`\n    query {\n      restaurant {\n        id\n        name\n        description\n        image {\n          url\n        }\n      }\n    }\n  `;\n  const { loading, error, data } = useQuery(GET_RESTAURANTS)\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>ERROR</p>;\n  if (!data) return <p>Not found</p>;\n  // console.log(`Query Data: ${data.restaurants}`)\n\n\n  let searchQuery = data.restaurants.filter((res) => {\n    return res.name.toLowerCase().includes(props.search)\n  }) || [];\n\n  let restId = searchQuery[0] ? searchQuery[0].id : null;\n\n  // definet renderer for Dishes\n  const renderDishes = (restaurantID) => {\n    // console.log(`RESTID: ${restaurantID}`)\n    return (<Dishes restId={restaurantID}> </Dishes>)\n  };\n  if (searchQuery.length > 0) {\n    const restList = searchQuery.map((res) => (\n      <Col xs=\"6\" sm=\"4\" key={res.id}>\n        <Card style={{ margin: \"0 0.5rem 20px 0.5rem\" }}>\n          <CardImg\n            top={true}\n            style={{ height: 200 }}\n            src={\n              `http://localhost:1337${res.image[0].url}`\n            }\n          />\n          <CardBody>\n            <CardText>{res.description}</CardText>\n          </CardBody>\n          <div className=\"card-footer\">\n\n            <Button color=\"info\" onClick={() => setRestaurantID(res.id)}>{res.name}</Button>\n\n          </div>\n        </Card>\n      </Col>\n    ))\n\n    return (\n\n      <Container>\n        <Row xs='3'>\n          {restList}\n        </Row>\n\n        <Row xs='3'>\n          {renderDishes(restaurantID)}\n        </Row>\n\n      </Container>\n\n    )\n  } else {\n    return <h1> No Restaurants Found</h1>\n  }\n}\nexport default RestaurantList\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}